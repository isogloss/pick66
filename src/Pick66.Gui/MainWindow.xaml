<Window x:Class="Pick66.Gui.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Pick66 - Lottery Generator &amp; Game Capture"
        Height="600" Width="900"
        MinHeight="500" MinWidth="700"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Menu bar -->
            <RowDefinition Height="*"/>    <!-- Main content -->
            <RowDefinition Height="Auto"/> <!-- Status bar -->
        </Grid.RowDefinitions>

        <!-- Menu Bar -->
        <Menu Grid.Row="0" Background="{DynamicResource BackgroundBrush}">
            <MenuItem Header="_File">
                <MenuItem Header="_Settings" Click="ShowSettings_Click"/>
                <Separator/>
                <MenuItem Header="E_xit" Click="Exit_Click"/>
            </MenuItem>
            <MenuItem Header="_View">
                <MenuItem Name="ThemeToggleMenuItem" Header="Toggle _Theme" Click="ToggleTheme_Click"/>
            </MenuItem>
            <MenuItem Header="_Help">
                <MenuItem Header="_About" Click="ShowAbout_Click"/>
            </MenuItem>
        </Menu>

        <!-- Main Content Area -->
        <TabControl Grid.Row="1" Name="MainTabControl" Margin="5">
            
            <!-- Lottery Tab -->
            <TabItem Header="Lottery Generator">
                <Grid Margin="10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition Width="3*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Settings Panel -->
                    <GroupBox Header="Lottery Settings" Grid.Column="0" Margin="0,0,5,0">
                        <StackPanel Margin="10">
                            <Label Content="Numbers per ticket:"/>
                            <TextBox Name="NumbersPerTicketBox" Text="6" Style="{StaticResource NumericTextBoxStyle}" Margin="0,0,0,10"/>
                            
                            <Label Content="Minimum number:"/>
                            <TextBox Name="MinNumberBox" Text="1" Style="{StaticResource NumericTextBoxStyle}" Margin="0,0,0,10"/>
                            
                            <Label Content="Maximum number:"/>
                            <TextBox Name="MaxNumberBox" Text="49" Style="{StaticResource NumericTextBoxStyle}" Margin="0,0,0,10"/>
                            
                            <CheckBox Name="UniqueNumbersCheckBox" Content="Unique numbers only" IsChecked="True" Margin="0,0,0,10"/>
                            
                            <Label Content="Number of tickets:"/>
                            <TextBox Name="TicketCountBox" Text="1" Style="{StaticResource NumericTextBoxStyle}" Margin="0,0,0,10"/>
                            
                            <Button Name="GenerateButton" Content="Generate Tickets" Click="GenerateTickets_Click" 
                                    Background="{StaticResource SuccessBrush}" Padding="10,8" Margin="0,10,0,0"/>
                        </StackPanel>
                    </GroupBox>
                    
                    <!-- Results Panel -->
                    <GroupBox Header="Generated Tickets" Grid.Column="1" Margin="5,0,0,0">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBox Name="ResultsTextBox" Grid.Row="0" 
                                     IsReadOnly="True" 
                                     TextWrapping="Wrap"
                                     VerticalScrollBarVisibility="Auto"
                                     FontFamily="Consolas"
                                     Text="Click 'Generate Tickets' to create lottery numbers..."/>
                            
                            <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0,10,0,0">
                                <Button Name="CopyButton" Content="Copy to Clipboard" Click="CopyResults_Click" Margin="0,0,10,0"/>
                                <Button Name="SaveButton" Content="Save to File" Click="SaveResults_Click"/>
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                </Grid>
            </TabItem>

            <!-- Game Capture Tab -->
            <TabItem Header="Game Capture">
                <Grid Margin="10">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Control Panel -->
                    <GroupBox Header="Capture Controls" Grid.Row="0" Margin="0,0,0,10">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <Button Name="StartCaptureButton" Grid.Column="0" Content="Start Capture" 
                                    Click="StartCapture_Click" Background="{StaticResource SuccessBrush}" 
                                    Margin="0,0,5,0" Padding="8"/>
                            
                            <Button Name="StopCaptureButton" Grid.Column="1" Content="Stop Capture" 
                                    Click="StopCapture_Click" Background="{StaticResource ErrorBrush}" 
                                    Margin="5,0" Padding="8" IsEnabled="False"/>
                            
                            <Button Name="StartProjectionButton" Grid.Column="2" Content="Start Projection" 
                                    Click="StartProjection_Click" Background="{StaticResource AccentBrush}" 
                                    Margin="5,0" Padding="8"/>
                            
                            <Button Name="StopProjectionButton" Grid.Column="3" Content="Stop Projection" 
                                    Click="StopProjection_Click" Background="{StaticResource WarningBrush}" 
                                    Margin="5,0,0,0" Padding="8" IsEnabled="False"/>
                        </Grid>
                    </GroupBox>
                    
                    <!-- Status Panel -->
                    <GroupBox Header="Status" Grid.Row="1" Margin="0,0,0,10">
                        <Grid Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0">
                                <Label Content="Capture Status:"/>
                                <TextBlock Name="CaptureStatusText" Text="Idle" FontWeight="Bold"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="1">
                                <Label Content="FPS:"/>
                                <TextBlock Name="FpsText" Text="0.0" FontWeight="Bold"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="2">
                                <Label Content="Dropped Frames:"/>
                                <TextBlock Name="DroppedFramesText" Text="0" FontWeight="Bold"/>
                            </StackPanel>
                        </Grid>
                    </GroupBox>
                    
                    <!-- Log Output -->
                    <GroupBox Header="Log Output" Grid.Row="2">
                        <ListBox Name="LogListBox" Margin="10" FontFamily="Consolas" FontSize="12"/>
                    </GroupBox>
                </Grid>
            </TabItem>

        </TabControl>

        <!-- Status Bar -->
        <StatusBar Grid.Row="2" Background="{DynamicResource ControlBackgroundBrush}">
            <StatusBarItem>
                <TextBlock Name="StatusText" Text="Ready"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Name="ThemeText" Text="Dark Theme" Margin="0,0,10,0"/>
                    <TextBlock Text="|" Margin="0,0,10,0"/>
                    <TextBlock Text="Pick66 v1.0" Margin="0,0,5,0"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>